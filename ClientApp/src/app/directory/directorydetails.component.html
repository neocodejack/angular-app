<!-- Page Content -->
<!-- Search Tool Content -->
<div id="page-content-wrapper">

    <div class="container">

        <div class="row">
            <!-- Breadcrumbs: please show additional Breed breadcrumb to users browsing farms by breed-->
            <ol class="breadcrumb">
                <li><a routerLink='/directory'>Directory</a></li>
                <li class="active">{{directoryID}}</li>
            </ol>
            <!-- Search  State  Content -->
            <h1>Directories</h1>

            <form  name="searchForm" #searchForm="ngForm" novalidate>
                    <div class="col-md-12">
                      <div class="form-group col-xs-4 col-md-4">
                        <label for="state">State/Province</label>
                        <select class="form-control" name="state" [(ngModel)]="searchModel.state">
                          <option *ngFor="let state of states" [ngValue]="state.name">{{state.name}} </option>
                        </select>
                      </div>
                      <div class="form-group col-xs-2 col-md-2">
                        <label for="animalType">Animal Type</label>
                        <select class="form-control" name="animalType" [(ngModel)]="searchModel.animalType" (change)="getBreeds(searchModel.animalType)">
                          <option *ngFor="let animalType of animalTypes" [ngValue]="animalType.id">{{animalType.name}} </option>
                        </select>
                      </div>
                      <div class="form-group col-xs-2 col-md-2">
                        <label for="breed">Breed</label>
                        <select class="form-control" name="breed" [(ngModel)]="searchModel.breed">
                          <option *ngFor="let breed of breeds" [ngValue]="breed.id">{{breed.name}} </option>
                        </select>
                      </div>
                      <div class="form-group m-t-20">
                        <button id="searchButton" type="button" (click)="search()" class="btn">Search</button>
                      </div>
                    </div>
                    <div class="col-md-12">
                      <div id="custom-search-input" style="margin-top:20px">
                        <div class="input-group">
                          <input type="text" class="search-query form-control"  [(ngModel)]="searchModel.farmName" name="farmName"
                            placeholder="Or search by farm name" />
                          <span class="input-group-btn">
                            <button class="btn btn-danger" type="button"  (click)="search()">
                              <i class="fa fa-search" aria-hidden="true"></i>
                            </button>
                          </span>
                        </div>
                      </div>
                    </div>
            </form>
        </div>
    </div>

    <!-- End Search Tool Content -->
    <!-- Begin Directory Image Grid -->
    <div class="container directory-grid">
        <!--CATTLE-->
        <div class="row" *ngIf="directoryDetail.length > 0">
            <div class="col-md-3" *ngFor="let item of directoryDetail; let i = index">
                <div class="panel panel-default feed-panel-box">
                    <div class="panel-body">
                        <!--Set farm logo to background-img for directory-box-->
                        <div class="directory-box">
                            <img class="directory-photo" [src]="rootImgPath + item.farmLogoPath">
                        </div>
                    </div>
                    <div class="panel-footer">
                        <a class="farm-name">{{item.farmName}}</a>
                        <span class="user-location">
                            <i class="fa fa-map-marker" aria-hidden="true"></i>
                            {{item.city}}<span [hidden]="!item.state">,{{item.state}}</span></span>
                            
                    </div>
                </div>
            </div>
        </div>

        <div class="row text-center"  *ngIf="directoryDetail.length == 0">
          <h1>No Results</h1>
        </div>
        <br>

    </div>
</div>